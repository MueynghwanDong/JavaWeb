<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	window.addEventListener("load", function() {
		var video = document.querySelector("#video");
		var filter = document.querySelector("#filter");
		var range = document.querySelector("#range");
		
		//navigator.getUserMedia(constraints, successCallback, errorCallback);
		navigator.webkitGetUserMedia({
			video : true
		}, function(stream) {
			video.src = window.URL.createObjectURL(stream);
			localMediaStream = stream;
		}, function() {
			console.log("error");
		});

		filter.addEventListener("change", function() {
			video.style.webkitFilter = getFilter();
		});
		range.addEventListener("change", function() {
			video.style.webkitFilter = getFilter();
		});

		function getFilter() {
			return filter.value + "(" + range.value + "%)";
		}

	});
</script>
</head>
<body>
	<video id="video" width="1024px" height="768px" autoplay></video>
	<br>
	<select id="filter">
		<option>grayscale
		<option>sepia
		<option>invert
		<option>brightness
		<option>contrast
		<option>opacity
	</select>
	<input type="range" id="range" min="0" max="100">
</body>
</html>
